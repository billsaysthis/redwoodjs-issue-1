# Migration `20200630204616-fix-syntax`

This migration has been generated by Terris Kremer at 6/30/2020, 8:46:16 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."Address" (
"city" TEXT NOT NULL  ,"country" TEXT NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"state" TEXT NOT NULL  ,"street1" TEXT NOT NULL  ,"street2" TEXT   ,"zipcode" TEXT NOT NULL  )

CREATE TABLE "quaint"."RoleType" (
"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"name" TEXT NOT NULL  )

CREATE TABLE "quaint"."Role" (
"clubChaperId" INTEGER NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"name" TEXT NOT NULL  ,"roleTypeId" INTEGER NOT NULL  ,"userId" INTEGER   ,FOREIGN KEY ("roleTypeId") REFERENCES "RoleType"("id") ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ("clubChaperId") REFERENCES "ClubChapter"("id") ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."Media" (
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"createdById" INTEGER NOT NULL  ,"description" TEXT   ,"filename" TEXT NOT NULL  ,"filetype" TEXT NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"photoGalleryId" INTEGER   ,"updatedAt" DATE  DEFAULT CURRENT_TIMESTAMP ,"updatedById" INTEGER   ,FOREIGN KEY ("photoGalleryId") REFERENCES "PhotoGallery"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."PhotoGallery" (
"active" BOOLEAN NOT NULL DEFAULT true ,"clubChapterId" INTEGER NOT NULL  ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"createdById" INTEGER NOT NULL  ,"deactivatedAt" DATE NOT NULL  ,"deactivatedById" INTEGER   ,"description" TEXT NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"name" TEXT NOT NULL  ,"updatedAt" DATE  DEFAULT CURRENT_TIMESTAMP ,"updatedById" INTEGER   ,FOREIGN KEY ("clubChapterId") REFERENCES "ClubChapter"("id") ON DELETE CASCADE ON UPDATE CASCADE)

CREATE TABLE "quaint"."Club" (
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"createdById" INTEGER NOT NULL  ,"email" TEXT NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"league" TEXT NOT NULL  ,"logoId" INTEGER   ,"name" TEXT NOT NULL  ,"updatedAt" DATE  DEFAULT CURRENT_TIMESTAMP ,"updatedById" INTEGER   ,FOREIGN KEY ("logoId") REFERENCES "Media"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."Officer" (
"clubChapterId" INTEGER   ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"createdById" INTEGER NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"title" TEXT   ,"updatedAt" DATE  DEFAULT CURRENT_TIMESTAMP ,"updatedById" INTEGER   ,"userId" INTEGER NOT NULL  ,FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ("clubChapterId") REFERENCES "ClubChapter"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."ClubChapter" (
"active" BOOLEAN NOT NULL DEFAULT true ,"clubId" INTEGER NOT NULL  ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"createdById" INTEGER NOT NULL  ,"deactivatedAt" DATE NOT NULL  ,"deactivatedById" INTEGER   ,"email" TEXT NOT NULL  ,"facebook" TEXT   ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"instagram" TEXT   ,"logoId" INTEGER   ,"mailAddressId" INTEGER   ,"name" TEXT NOT NULL  ,"phone" TEXT   ,"twitter" TEXT   ,"updatedAt" DATE  DEFAULT CURRENT_TIMESTAMP ,"updatedById" INTEGER   ,"viewingAddressId" INTEGER   ,FOREIGN KEY ("clubId") REFERENCES "Club"("id") ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ("logoId") REFERENCES "Media"("id") ON DELETE SET NULL ON UPDATE CASCADE,
FOREIGN KEY ("mailAddressId") REFERENCES "Address"("id") ON DELETE SET NULL ON UPDATE CASCADE,
FOREIGN KEY ("viewingAddressId") REFERENCES "Address"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."User" (
"active" BOOLEAN NOT NULL DEFAULT true ,"addressId" INTEGER   ,"clubChapterId" INTEGER NOT NULL  ,"clubMembershipId" TEXT   ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"deactivatedAt" DATE NOT NULL  ,"deactivatedById" INTEGER   ,"displayName" TEXT   ,"email" TEXT NOT NULL  ,"firstName" TEXT NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"imageId" INTEGER   ,"joinedAt" DATE NOT NULL  ,"lastName" TEXT NOT NULL  ,"phone" TEXT   ,"updatedAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,FOREIGN KEY ("clubChapterId") REFERENCES "ClubChapter"("id") ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ("addressId") REFERENCES "Address"("id") ON DELETE SET NULL ON UPDATE CASCADE,
FOREIGN KEY ("imageId") REFERENCES "Media"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."Post" (
"authorId" INTEGER NOT NULL  ,"clubChapterId" INTEGER   ,"contentBody" TEXT NOT NULL  ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"createdById" INTEGER NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"mediaId" INTEGER   ,"photoGalleryId" INTEGER   ,"title" TEXT NOT NULL  ,"updatedAt" DATE  DEFAULT CURRENT_TIMESTAMP ,"updatedById" INTEGER   ,FOREIGN KEY ("authorId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY ("mediaId") REFERENCES "Media"("id") ON DELETE SET NULL ON UPDATE CASCADE,
FOREIGN KEY ("photoGalleryId") REFERENCES "PhotoGallery"("id") ON DELETE SET NULL ON UPDATE CASCADE,
FOREIGN KEY ("clubChapterId") REFERENCES "ClubChapter"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE UNIQUE INDEX "quaint"."Role_clubChaperId" ON "Role"("clubChaperId")

CREATE UNIQUE INDEX "quaint"."Club.email" ON "Club"("email")

CREATE UNIQUE INDEX "quaint"."Club_logoId" ON "Club"("logoId")

CREATE UNIQUE INDEX "quaint"."ClubChapter.email" ON "ClubChapter"("email")

CREATE UNIQUE INDEX "quaint"."ClubChapter_logoId" ON "ClubChapter"("logoId")

CREATE UNIQUE INDEX "quaint"."ClubChapter_mailAddressId" ON "ClubChapter"("mailAddressId")

CREATE UNIQUE INDEX "quaint"."ClubChapter_viewingAddressId" ON "ClubChapter"("viewingAddressId")

CREATE UNIQUE INDEX "quaint"."User.email" ON "User"("email")

CREATE UNIQUE INDEX "quaint"."User_clubChapterId" ON "User"("clubChapterId")

CREATE UNIQUE INDEX "quaint"."User_addressId" ON "User"("addressId")

CREATE UNIQUE INDEX "quaint"."User_imageId" ON "User"("imageId")

CREATE UNIQUE INDEX "quaint"."Post_mediaId" ON "Post"("mediaId")

CREATE UNIQUE INDEX "quaint"."Post_photoGalleryId" ON "Post"("photoGalleryId")

CREATE UNIQUE INDEX "quaint"."Post_clubChapterId" ON "Post"("clubChapterId")

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200629144603-create-base-table-set..20200630204616-fix-syntax
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider      = "prisma-client-js"
@@ -17,27 +17,27 @@
   city                      String
   state                     String
   country                   String
   zipcode                   String
-  clubChapterMailingAddress ClubChapter[] @relation("MailingAddress")
-  clubChapterViewingAddress ClubChapter[] @relation("ViewingAddress")
-  User                      User[]        @relation("UserAddress")
+  clubChapterMailingAddress ClubChapter @relation("MailingAddress")
+  clubChapterViewingAddress ClubChapter @relation("ViewingAddress")
+  user                      User        @relation("UserAddress")
 }
 model RoleType {
   id   Int    @id @default(autoincrement())
   name String
-  Role Role[]
+  roles Role[]
 }
 model Role {
   id           Int         @id @default(autoincrement())
   name         String
   roleTypeId   Int
   roleType     RoleType    @relation(fields: [roleTypeId])
   clubChaperId Int
-  clubChapter  ClubChapter @relation(fields: [clubChaperId])
-  User         User?       @relation(fields: [userId], references: [id])
+  clubChapter  ClubChapter @relation(fields: [clubChaperId], references: [id])
+  user         User?       @relation(fields: [userId], references: [id])
   userId       Int?
 }
 model Media {
@@ -48,14 +48,14 @@
   createdAt      DateTime      @default(now())
   createdById    Int
   updatedAt      DateTime?     @default(now())
   updatedById    Int?
-  ClubChapter    ClubChapter[]
-  Club           Club[]
-  User           User[]
-  PhotoGallery   PhotoGallery? @relation(fields: [photoGalleryId], references: [id])
+  clubChapter    ClubChapter
+  club           Club
+  user           User
+  photoGallery   PhotoGallery? @relation(fields: [photoGalleryId], references: [id])
   photoGalleryId Int?
-  Post           Post[]
+  post           Post
 }
 model PhotoGallery {
   id              Int         @id @default(autoincrement())
@@ -70,9 +70,9 @@
   createdAt       DateTime    @default(now())
   createdById     Int
   updatedAt       DateTime?   @default(now())
   updatedById     Int?
-  Post            Post[]
+  post            Post
 }
 model Club {
   id          Int           @id @default(autoincrement())
@@ -84,9 +84,9 @@
   createdAt   DateTime      @default(now())
   createdById Int
   updatedAt   DateTime?     @default(now())
   updatedById Int?
-  ClubChapter ClubChapter[]
+  clubChapter ClubChapter[]
 }
 model Officer {
   id            Int          @id @default(autoincrement())
@@ -96,9 +96,9 @@
   createdAt     DateTime     @default(now())
   createdById   Int
   updatedAt     DateTime?    @default(now())
   updatedById   Int?
-  ClubChapter   ClubChapter? @relation(fields: [clubChapterId], references: [id])
+  clubChapter   ClubChapter? @relation(fields: [clubChapterId], references: [id])
   clubChapterId Int?
 }
 model ClubChapter {
@@ -109,11 +109,11 @@
   club             Club           @relation(fields: [clubId])
   logoId           Int?
   logo             Media?         @relation(fields: [logoId])
   mailAddressId    Int?
-  mailAddress      Address?       @relation("MailingAddress", fields: [mailAddressId])
+  mailAddress      Address?       @relation("MailingAddress", fields: [mailAddressId], references: [id])
   viewingAddressId Int?
-  viewingAddress   Address?       @relation("ViewingAddress", fields: [viewingAddressId])
+  viewingAddress   Address?       @relation("ViewingAddress", fields: [viewingAddressId], references: [id])
   phone            String?
   facebook         String?
   twitter          String?
   instagram        String?
@@ -125,11 +125,11 @@
   updatedAt        DateTime?      @default(now())
   updatedById      Int?
   photoGalleries   PhotoGallery[]
   officers         Officer[]
-  Role             Role[]
-  members          User[]
-  Post             Post[]
+  role             Role
+  members          User
+  post             Post
 }
 model User {
   id               Int         @id @default(autoincrement())
@@ -142,19 +142,19 @@
   active           Boolean     @default(true)
   deactivatedAt    DateTime
   deactivatedById  Int?
   clubChapterId    Int
-  clubChapter      ClubChapter @relation(fields: [clubChapterId])
+  clubChapter      ClubChapter @relation(fields: [clubChapterId], references: [id])
   addressId        Int?
-  address          Address?    @relation("UserAddress", fields: [addressId])
+  address          Address?    @relation("UserAddress", fields: [addressId], references: [id])
   phone            String?
   imageId          Int?
-  image            Media?      @relation(fields: [imageId])
+  image            Media?      @relation(fields: [imageId], references: [id])
   createdAt        DateTime    @default(now())
   updatedAt        DateTime    @default(now())
   roles            Role[]
-  Officer          Officer[]
-  Post             Post[]
+  officers         Officer[]
+  posts            Post[]
 }
 model Post {
   id             Int           @id @default(autoincrement())
@@ -162,12 +162,12 @@
   contentBody    String
   authorId       Int
   author         User          @relation(fields: [authorId])
   mediaId        Int?
-  media          Media?        @relation(fields: [mediaId])
+  media          Media?        @relation(fields: [mediaId], references: [id])
   photoGalleryId Int?
-  photoGallery   PhotoGallery? @relation(fields: [photoGalleryId])
-  ClubChapter    ClubChapter?  @relation(fields: [clubChapterId], references: [id])
+  photoGallery   PhotoGallery? @relation(fields: [photoGalleryId], references: [id])
+  clubChapter    ClubChapter?  @relation(fields: [clubChapterId], references: [id])
   clubChapterId  Int?
   createdAt      DateTime      @default(now())
   createdById    Int
   updatedAt      DateTime?     @default(now())
```


